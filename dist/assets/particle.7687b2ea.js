var i=document.querySelector("#canvas"),a=i.getContext("2d"),c=[],o=0,n={x:-9999,y:-9999},g=1,l=["rgba(255, 77, 79, 0.85)","rgba(255, 122, 69, 0.85)","rgba(255, 169, 64, 0.85)","rgba(255, 197, 61, 0.85)","rgba(186, 230, 55, 0.85)","rgba(115, 209, 61, 0.85)","rgba(54, 207, 201, 0.85)","rgba(64, 169, 255, 0.85)","rgba(89, 126, 247, 0.85)","rgba(146, 84, 222, 0.85)","rgba(247, 89, 171, 0.85)"],h=window.innerWidth,s=window.innerHeight;function d(r,t){this.x=Math.random()*h,this.y=Math.random()*s,this.dest={x:r,y:t},this.r=Math.random()*2*Math.PI,this.vx=(Math.random()-.5)*25,this.vy=(Math.random()-.5)*25,this.accX=0,this.accY=0,this.friction=Math.random()*.025+.94,this.color=l[Math.floor(Math.random()*10)]}d.prototype.render=function(){this.accX=(this.dest.x-this.x)/1e3,this.accY=(this.dest.y-this.y)/1e3,this.vx+=this.accX,this.vy+=this.accY,this.vx*=this.friction,this.vy*=this.friction,this.x+=this.vx,this.y+=this.vy,a.fillStyle=this.color,a.beginPath(),a.arc(this.x,this.y,this.r,Math.PI*2,!1),a.fill();var r=this.x-n.x,t=this.y-n.y,e=Math.sqrt(r*r+t*t);e<g*75&&(this.accX=(this.x-n.x)/10,this.accY=(this.y-n.y)/10,this.vx+=this.accX,this.vy+=this.accY)};function x(){h=i.width=window.innerWidth-20,s=i.height=window.innerHeight-220,a.clearRect(0,0,i.width,i.height),a.font='bold 12vw "Abril Fatface"',a.textAlign="center",a.fillText("\u5C0F\u6EAA\uFF0C\u6211\u559C\u6B22\u4F60",h/2,s/1.6);var r=a.getImageData(0,0,h,s).data;a.clearRect(0,0,i.width,i.height),a.globalCompositeOperation="lighten",c=[];for(var t=0;t<h;t+=Math.round(h/200))for(var e=0;e<s;e+=Math.round(h/200))r[(t+e*h)*4+3]>200&&c.push(new d(t,e));o=c.length}function v(r){requestAnimationFrame(v),a.clearRect(0,0,i.width,i.height);for(var t=0;t<o;t++)c[t].render()}x();requestAnimationFrame(v);
