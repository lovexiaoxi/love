function c(t,e,r){this.id=t,this.x=e,this.y=r,this.r=Math.floor(Math.random()*2)+1;var h=(Math.floor(Math.random()*10)+1)/10/2;this.color="rgba(255,255,255,"+h+")"}c.prototype.draw=function(){i.fillStyle=this.color,i.shadowBlur=this.r*2,i.beginPath(),i.arc(this.x,this.y,this.r,0,2*Math.PI,!1),i.closePath(),i.fill()};c.prototype.move=function(){this.y-=.15,this.y<=-10&&(this.y=n+10),this.draw()};c.prototype.die=function(){s[this.id]=null,delete s[this.id]};function a(t,e,r,h){this.id=t,this.x=e,this.y=r,this.r=Math.floor(Math.random()*5)+1,this.maxLinks=2,this.speed=.5,this.a=.5,this.aReduction=.005,this.color="rgba(255,255,255,"+this.a+")",this.linkColor="rgba(255,255,255,"+this.a/4+")",this.dir=Math.floor(Math.random()*140)+200}a.prototype.draw=function(){i.fillStyle=this.color,i.shadowBlur=this.r*2,i.beginPath(),i.arc(this.x,this.y,this.r,0,2*Math.PI,!1),i.closePath(),i.fill()};a.prototype.link=function(){if(this.id!=0){var t=l(this.id,1),e=l(this.id,2),r=l(this.id,3);!t||(i.strokeStyle=this.linkColor,i.moveTo(t.x,t.y),i.beginPath(),i.lineTo(this.x,this.y),e!=!1&&i.lineTo(e.x,e.y),r!=!1&&i.lineTo(r.x,r.y),i.stroke(),i.closePath())}};function l(t,e){return t==0||t-e<0?!1:typeof o[t-e]!="undefined"?o[t-e]:!1}a.prototype.move=function(){if(this.a-=this.aReduction,this.a<=0){this.die();return}this.color="rgba(255,255,255,"+this.a+")",this.linkColor="rgba(255,255,255,"+this.a/4+")",this.x=this.x+Math.cos(x(this.dir))*this.speed,this.y=this.y+Math.sin(x(this.dir))*this.speed,this.draw(),this.link()};a.prototype.die=function(){o[this.id]=null,delete o[this.id]};var M=document.getElementById("canvas"),i=M.getContext("2d"),u,n,y=!1,p,d,f,s=[],k=80,o=[],g=2,w=50;D();C();function D(){u=document.documentElement.clientWidth,n=document.documentElement.clientHeight,M.setAttribute("width",u),M.setAttribute("height",n)}function C(){i.strokeStyle="white",i.shadowColor="white";for(var t=0;t<k;t++)s[t]=new c(t,Math.floor(Math.random()*u),Math.floor(Math.random()*n));i.shadowBlur=0,P()}function P(){i.clearRect(0,0,u,n);for(var t in s)s[t].move();for(var t in o)o[t].move();I(),requestAnimationFrame(P)}window.onmousemove=function(t){y=!0,d=t.clientX,f=t.clientY,clearInterval(p),p=setTimeout(function(){y=!1},100)};function I(){if(!!y){if(o.length==0){o[0]=new a(0,d,f),o[0].draw();return}var t=l(o.length,1),e=t.x,r=t.y,h=Math.abs(e-d),b=Math.abs(r-f);if(!(h<g||b<g)){var m=Math.random()>.5?-1:1;m=m*Math.floor(Math.random()*w)+1;var v=Math.random()>.5?-1:1;v=v*Math.floor(Math.random()*w)+1,o[o.length]=new a(o.length,d+m,f+v),o[o.length-1].draw(),o[o.length-1].link()}}}function x(t){return t*(Math.PI/180)}
